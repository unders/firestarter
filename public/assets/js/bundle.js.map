{"version":3,"sources":["webpack:///webpack/bootstrap 814913a6b439f9065041","webpack:///./src/index.ts","webpack:///./src/component/comment.ts","webpack:///./src/dom/dom.ts","webpack:///./node_modules/hyperhtml/min.js","webpack:///./src/client/client.ts","webpack:///./src/data/error.ts","webpack:///./src/data/comment.ts","webpack:///./src/data/env.ts"],"names":[],"mappings":"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","file":"./public/assets/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 814913a6b439f9065041","import * as comment from \"./component/comment\"\nimport {Client} from \"./client/client\"\nimport {Env} from \"./data/env\";\n\nconst main = () => {\n    const env = new Env(\"dev\");\n\n    new comment.Component({\n            root: \"#funcbox-comment\",\n            client: Client.make(env),\n            comments:  [{body: \"This is the body text. Very cool\"}],\n            listTitle: \"Comments\"\n        });\n};\n\nmain();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import { Comment } from \"../data/comment\"\nimport { Poster} from \"../client/client\"\nimport { Dom as dom } from \"../dom/dom\"\n\nexport interface Props {\n    root: string;\n    listTitle: string;\n    client: Poster;\n    comments: Comment[];\n}\n\nexport class Component {\n    root: Element;\n    form: Form;\n    list: List;\n    bind: (template: TemplateStringsArray, ...args : any[]) => void;\n\n    constructor(props: Props) {\n        const root = document.querySelector(props.root);\n\n        if (root) {\n            this.root = root;\n            this.bind = dom.bind(this.root);\n            this.form = new Form(props.client, new View());\n            this.list = new List(props.listTitle, props.comments);\n\n            this.render();\n        }\n    }\n\n    render() {\n        if (this.root) {\n            this.bind`${[\n                this.form.render()\n                // this.list.render()\n            ]}`;\n        }\n    }\n}\n\nclass View {\n    data: Data = new Data();\n    body: Body = new Body();\n    submit: Submit = new Submit();\n\n    isValid(): boolean {\n        return this.body.isValid(this.data.body);\n    }\n\n    toJSON(): string {\n        return JSON.stringify(this.data);\n    }\n\n    disableSubmit(): void {\n        this.submit.disable = true;\n    }\n\n    enableSubmit(): void {\n        this.submit.disable = false;\n    }\n\n    reset(): void {\n        this.data.body = \"\";\n        this.body.setOk();\n        this.submit.disable = false;\n    }\n}\nclass Data {\n    [key: string]: string;\n    body: string = \"\";\n}\nclass Body {\n    klass: string = viewState.ok;\n    style: string = viewState.hideError;\n    error: string = \"Please, write something.\";\n    placeholder: string = \"Write a comment\";\n\n    isValid(value: string): boolean {\n       if (value === \"\") {\n           return this.setError();\n       } else {\n           return this.setOk();\n       }\n    }\n\n    setError() {\n        this.klass = viewState.error;\n        this.style = viewState.showError;\n        return false;\n    }\n\n    setOk() {\n        this.klass = viewState.ok;\n        this.style = viewState.hideError;\n        return true\n    }\n}\nclass Submit {\n    readonly title: string = \"Send\";\n    disable: boolean = false;\n}\n\nclass viewState {\n    static readonly hideError: string = \"visibility: hidden;\";\n    static readonly showError: string = \"\";\n    static readonly error: string = \"error\";\n    static readonly ok: string = \"ok\";\n}\n\nclass Form {\n    readonly client: Poster;\n    readonly html: (template: TemplateStringsArray, ...args : any[]) => void;\n    view: View;\n\n    constructor(client: Poster, view: View) {\n        this.view = view;\n        this.client = client;\n        this.html = dom.wire(this);\n        this.submit = this.submit.bind(this);\n        this.input = this.input.bind(this);\n        this.grow = this.grow.bind(this);\n        this.shrink = this.shrink.bind(this);\n    }\n\n    input(e: Event) {\n        const input = e.target as HTMLInputElement;\n        this.view.data[input.name] = input.value;\n    }\n\n    shrink(e: Event) {\n        // const el = e.target as HTMLTextAreaElement;\n        // console.log(e);\n    }\n\n    grow(e: Event) {\n        // const el = e.target as HTMLTextAreaElement;\n        //\n        // if (el.scrollHeight > el.clientHeight) {\n        //     el.style.height = el.scrollHeight + \"px\";\n        // }\n    }\n\n    async submit(e: Event) {\n        e.preventDefault();\n\n        this.view.disableSubmit();\n        this.render();\n\n        if(!this.view.isValid()) {\n            this.view.enableSubmit();\n            this.render();\n            return;\n        }\n        const req = this.view.toJSON();\n        this.view.reset();\n        this.render();\n\n        // animate a fast add at the top of list...\n\n        const {json, err} = await this.client.post(req);\n        if (err) {\n            // animate and replace list item with error message\n            if (err.code == 400) {\n\n            }\n            console.log(err.code, err.status, err.message, err.value);\n        } else {\n            // resolve optimistic update\n            // update store.\n            console.log(\"json: \", json);\n        }\n    }\n\n    render() {\n        const data = this.view.data;\n        const body = this.view.body;\n        const submit = this.view.submit;\n\n        return this.html`\n            <form   class=\"funcbox-form\"\n                    onsubmit=${this.submit}\n                    oninput=${this.input}>\n                <textarea   class=\"${['funcbox-textarea', body.klass].join(' ')}\"\n                            oninput=\"${this.grow}\"\n                            onkeydown=\"${this.shrink}\"\n                            tabindex=\"1\"\n                            name='body'\n                            placeholder=\"${body.placeholder}\"\n                            value=\"${data.body}\"></textarea>\n                </br>\n                <span class=\"funcbox-textarea-error\" style=\"${body.style}\">\n                    ${body.error}\n                </span>\n                <button class=\"funcbox-button\"\n                        tabindex=\"2\"\n                        disabled=${submit.disable}>${submit.title}</button>\n            </form>`;\n    }\n}\n\nclass List {\n    title: string;\n    comments: Comment[];\n    html: (template: TemplateStringsArray, ...args : any[]) => void;\n\n    constructor(title: string, comments: Comment[]) {\n        this.title = title;\n        this.html = dom.wire(this);\n    }\n\n    click(e: Event) {\n        console.log(e);\n        console.log(e.target);\n    }\n\n    render() {\n        return this.html`\n            <h3>${this.title}</h3>\n            <ul class=\"comments\">${this.comments.map( (comment) => dom.wire(comment)`\n                <li onclick=\"${this.click}\">${comment.body}</li>`)}\n            </ul>`;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/comment.ts","import hyperHTML = require('hyperhtml');\n\nexport class Dom {\n    static wire(obj?: object, typeID?: string): (template: TemplateStringsArray, ...args : any[]) => void {\n        return hyperHTML.wire(obj, typeID)\n    }\n    static bind(element: Element): (template: TemplateStringsArray, ...args : any[]) => void {\n        return hyperHTML.bind(element)\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/dom/dom.ts","var hyperHTML=function(e,t){\"use strict\";function n(e){return arguments.length<2?null==e?q(\"html\"):\"string\"==typeof e?i(null,e):\"raw\"in e?q(\"html\")(e):\"nodeType\"in e?r(e):F(e,\"html\"):(\"raw\"in e?q(\"html\"):i).apply(null,arguments)}function r(e){return l.bind(e)}function i(e,t){return arguments.length<1?q(\"html\"):null==e?q(t||\"html\"):F(e,t||\"html\")}function o(){}function a(e,n){return this.node=e,this.childNodes=n,t.aura(this,n)}function l(e){var t=we.get(this);return t&&t.template===re(e)||(t=B.apply(this,arguments),we.set(this,t)),z.apply(t.updates,arguments),this}function c(e,t,n){var r,i=e.ownerElement,o=/^on/.test(n),a=\"data\"===n||x(i,n)&&!K.test(n),l=o?n.slice(2):\"\",c=o||a;return o&&n.toLowerCase()in i&&(l=l.toLowerCase()),c&&t.push(i,n),o?function(e){r!==e&&(r&&i.removeEventListener(l,r,!1),r=e,e&&i.addEventListener(l,e,!1))}:a?function(e){r!==e&&(r=e,i[n]!==e&&(null==e?(i[n]=null,i.removeAttribute(n)):i[n]=e))}:function(t){r!==t&&(r=t,e.value!==t&&(null==t?c||(c=!0,i.removeAttributeNode(e)):(e.value=t,c&&(c=!1,i.setAttributeNode(e)))))}}function u(e){var t;return function(n){n!==t&&(t=n,e.textContent=n)}}function s(e,r,i){var a;return function l(c){switch(typeof c){case\"string\":case\"number\":case\"boolean\":var u=r.length;1===u&&r[0].nodeType===Z?a!==c&&(a=c,r[0].textContent=c):(a=c,u?i.splice(0,u,w(e,c)):r[0]=e.parentNode.insertBefore(w(e,c),e));break;case\"function\":l(c(e.parentNode,r,0));break;case\"object\":case\"undefined\":if(null==c){a=c,l(\"\");break}c instanceof o&&(c=c.render());default:if(a=c,ce(c)){var u=c.length;if(0===u)i.splice(0);else switch(typeof c[0]){case\"string\":case\"number\":case\"boolean\":l({html:c});break;case\"function\":for(var s=e.parentNode,f=0;f<u;f++)c[f]=c[f](s,r,f);l(c.concat.apply([],c));break;case\"object\":if(ce(c[0])&&(c=c.concat.apply([],c)),T(c[0])){Promise.all(c).then(l);break}for(var f=0,u=c.length;f<u;f++)c[f]instanceof o&&(c[f]=c[f].render());default:t(i,c,n.MAX_LIST_SIZE)}}else if(C(c))t(i,c.nodeType===W?ie.call(c.childNodes):[c],n.MAX_LIST_SIZE);else if(T(c))c.then(l);else if(\"placeholder\"in c)S(l,c);else if(\"text\"in c)l(String(c.text));else if(\"any\"in c)l(c.any);else if(\"html\"in c){var h=[].concat(c.html).join(\"\");i.splice(0);var p=m(e,h);r.push.apply(r,p.childNodes),e.parentNode.insertBefore(p,e)}else l(\"length\"in c?ie.call(c):E(c))}}}function f(e,t,n){for(var r,i,o=Q,a=e.attributes,l=0,c=a.length;l<c;l++)i=a[l],i.value===o&&(r=n.shift().replace(/^(?:|[\\S\\s]*?\\s)(\\S+?)=['\"]?$/,\"$1\"),t.push(M(\"attr\",e.attributes[r.toLowerCase()],r)))}function h(e,t,n){for(var r,i=e.childNodes,o=i.length,a=0;a<o;a++)switch(r=i[a],r.nodeType){case R:f(r,t,n),h(r,t,n);break;case V:r.textContent===Q&&(n.shift(),t.push(M(\"any\",r)));break;case Z:K.test(e.nodeName)&&ue.call(r.textContent)===U&&(n.shift(),t.push(M(\"text\",e)))}}function p(e){return oe[e]}function d(e){return{html:e}}function v(e){for(var t,n=[],r=e.childNodes,i=0,o=r.length;i<o;i++)t=r[i],t.nodeType!==R&&0===ue.call(t.textContent).length||n.push(t);return 1===n.length?n[0]:n}function g(e){return e.createDocumentFragment()}function m(e,t){return(G in e?b:y)(e,t.replace(ge,ye))}function y(e,t){var n,r=e.ownerDocument,i=r.createElement(\"template\"),o=\"content\"in i,a=!1;if(o||(n=g(r),a=/^[^\\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(t)),a){var l=RegExp.$1;i.innerHTML=\"<table>\"+t+\"</table>\",pe(n,ie.call(i.querySelectorAll(l)))}else i.innerHTML=t,o?n=i.content:pe(n,ie.call(i.childNodes));return n}function b(e,t){var n=e.ownerDocument,r=g(n);if(te||ne){var i=n.createElement(\"div\");i.innerHTML='<svg xmlns=\"'+J+'\">'+t+\"</svg>\",pe(r,ie.call(i.firstChild.childNodes))}else{var i=n.createElementNS(J,\"svg\");i.innerHTML=t,pe(r,ie.call(i.childNodes))}return r}function w(e,t){return e.ownerDocument.createTextNode(t)}function N(e){var t=n.document,r=t.customElements||t.defaultView.customElements;return r&&r.get(e.nodeName.toLowerCase())}function x(e,t){var n=!(G in e);if(n&&/-/.test(e.nodeName)){var r=N(e);r&&(e=r.prototype)}return n&&t in e}function S(e,t){e(t.placeholder),\"text\"in t?Promise.resolve(t.text).then(String).then(e):\"any\"in t?Promise.resolve(t.any).then(e):\"html\"in t?Promise.resolve(t.html).then(d).then(e):Promise.resolve(E(t)).then(e)}function E(e){for(var t in fe)if(e.hasOwnProperty(t))return fe[t](e[t])}function C(e){return\"ELEMENT_NODE\"in e}function T(e){return null!=e&&\"then\"in e}function k(e,t){var n=\"_\"+e+\"$\";return{get:function(){return this[n]||(this[e]=t.call(this,e))},set:function(e){se(this,n,{configurable:!0,value:e})}}}function A(e){for(var t=0,n=e.length;t<n;t++)e[t++].removeAttribute(e[t])}function L(e,t,n,r){var i;switch(e.type){case\"any\":i=s(t,r,new a(t,r));break;case\"attr\":i=c(t,n,e.name);break;case\"text\":i=u(t)}return i}function M(e,t,n){return{type:e,path:H(t),name:n}}function _(e){var t=\"_\"+e.join(U);return he[t]||(he[t]=e)}function D(e,t){var n=t.previousSibling;n&&n.nodeType===Z&&(e.removeChild(n),D(e,t))}function O(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function j(e,t,n,r){for(var i=e,o=e.ownerDocument,a=n.path,l=ve(t,a),c=0,u=a.length;c<u;c++)switch(a[c++]){case\"attributes\":var s=l.name;e.hasAttribute(s)||e.setAttribute(s,\"\"),i=e.attributes[s];break;case\"childNodes\":var f=de(e),h=de(l.parentNode);i=Te(l);var p=i?a.indexOf.call(h,i)+1:-1;i=Ce(l);var d=i?a.indexOf.call(h,i):-1;switch(i=o.createComment(Q),!0){case d<0:d=f.length;break;case p<0:p=0;default:d=-(h.length-d)}r.push.apply(r,ie.call(f,p,d)),r.length?O(e,i,Ce(r[r.length-1])):O(e,i,ie.call(f,d)[0]),0===r.length&&D(e,i);break;default:i=de(e)[a[c]]||e.appendChild(e.ownerDocument.createElement(ve(t,a.slice(0,c+1)).nodeName)),e=i}return i}function I(e,t){for(var n,r,i=[],o=[],a=0,l=t.length;a<l;a++)r=[],n=t[a],i[a]=L(n,j(this,e,n,r),o,r);return A(o),i}function P(e){var t=[],n=m(this,e.join(U)),r={fragment:n,paths:t};return h(n,t,e.slice()),xe.set(e,r),r}function H(e){var t,n=[];switch(e.nodeType){case R:case W:t=e;break;case V:t=e.parentNode,n.unshift(\"childNodes\",n.indexOf.call(t.childNodes,e));break;case X:default:t=e.ownerElement,n.unshift(\"attributes\",e.name)}for(e=t;t=t.parentNode;e=t)n.unshift(\"children\",n.indexOf.call(de(t),e));return n}function $(e,t){for(var n,r=[],i=[],o=0,a=t.length;o<a;o++)n=t[o],r[o]=L(n,ve(e,n.path),i,[]);return A(i),r}function z(){for(var e=1,t=arguments.length;e<t;e++)this[e-1](arguments[e])}function B(e){e=re(e);var t,n=xe.get(e)||P.call(this,e);if(Se){var r=Ee(n.fragment);t=$.call(this,r,n.paths),this.textContent=\"\",this.appendChild(r)}else t=I.call(this,n.fragment,n.paths);return{template:e,updates:t}}function q(e){function t(t){c=g(t),l=\"svg\"===e?t.createElementNS(J,\"svg\"):c,u=r(l)}function i(){return s&&(s=!1,\"svg\"===e&&pe(c,ie.call(l.childNodes)),a=v(c)),a}var o,a,l,c,u,s,f;return\"adopt\"===e?function(r){var a=arguments;return r=re(r),f!==r&&(s=!0,f=r,o=function(r,o,f){return s&&(f<o.length?(l=o[f],c={ownerDocument:l.ownerDocument,childNodes:[l],children:[l]},u=n.adopt(c)):(G in r&&(e=\"svg\"),t(r.ownerDocument))),u.apply(null,a),i()}),o}:function(e){return e=re(e),f!==e&&(s=!0,f=e,t(n.document)),u.apply(null,arguments),i()}}function F(e,t){var n=Ne.get(e),r=t.indexOf(\":\"),i=t;return-1<r&&(i=t.slice(r+1),t=t.slice(0,r)||\"html\"),n||(n={},Ne.set(e,n)),n[i]||(n[i]=q(t))}/*! (c) 2017 Andrea Giammarchi @WebReflection, (ISC) */\nn.document=e,n.hyper=n,n.adopt=function(e){return function(){return Se=!1,l.apply(e,arguments),Se=!0,e}},n.bind=r,n.define=function(e,t){fe[e]=t},n.escape=function(e){return e.replace(/[&<>'\"]/g,p)},n.wire=i,n.Component=o,Object.defineProperties(o.prototype,{handleEvent:{value:function(e){var t=e.currentTarget;this[\"getAttribute\"in t&&t.getAttribute(\"data-call\")||\"on\"+e.type](e)}},html:k(\"html\",q),svg:k(\"svg\",q),state:k(\"state\",function(){return this.defaultState}),defaultState:{get:function(){return{}}},setState:{value:function(e){var t=this.state,n=\"function\"==typeof e?e.call(this,t):e;for(var r in n)t[r]=n[r];this.render()}}});var R=1,X=2,Z=3,V=8,W=11,G=\"ownerSVGElement\",J=\"http://www.w3.org/2000/svg\",K=/^style$/i,Q=\"_hyper: \"+(Math.random()*new Date|0)+\";\",U=\"\\x3c!--\"+Q+\"--\\x3e\";a.prototype.splice=function(e,t){for(var n,r=e,i=this.node,o=this.childNodes,a=i.parentNode,l=o.length,c=null==t?l:e+t;r<l&&r<c;r++)a.removeChild(o[r]);if(r=2,l=arguments.length,r<l){if(l-r==1)n=arguments[r];else for(n=g(a.ownerDocument);r<l;)n.appendChild(arguments[r++]);a.insertBefore(n,o[c]||i)}return o.splice.apply(o,arguments)};var _,Y=g(e),ee=\"object\"==typeof navigator&&/Firefox\\/(\\d+)/.test(navigator.userAgent)&&parseFloat(RegExp.$1)<55,te=function(){var t=e.createElement(\"p\");return t.innerHTML='<i data-i=\"\" class=\"\"></i>',/class/i.test(t.firstChild.attributes[0].name)}(),ne=!(\"children\"in Y),re=function(e){return(re=e.propertyIsEnumerable(\"raw\")||ee?_:function(e){return e})(e)},ie=[].slice,oe={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"'\":\"&#39;\",'\"':\"&quot;\"},ae=typeof WeakMap==typeof ae?function(){return{get:function(e){return e[\"_hyper: \"]},set:function(e,t){Object.defineProperty(e,\"_hyper: \",{configurable:!0,value:t})}}}:WeakMap,le=typeof Map==typeof le?function(){var e=[],t=[];return{get:function(n){return t[e.indexOf(n)]},set:function(n,r){t[e.push(n)-1]=r}}}:Map,ce=Array.isArray||function(){var e={}.toString,t=e.call([]);return function(n){return e.call(n)===t}}(),ue=\"_hyper: \".trim||function(){return this.replace(/^\\s+|\\s+$/g,\"\")},se=Object.defineProperty,fe={},he={},pe=\"append\"in Y?function(e,t){e.append.apply(e,t)}:function(e,t){for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])},de=ne||te?function(e){for(var t,n=[],r=e.childNodes,i=0,o=0,a=r.length;o<a;o++)t=r[o],t.nodeType===R&&(n[i++]=t);return n}:function(e){return e.children},ve=te||ne?function(e,t){for(var n,r=0,i=t.length;r<i;r++)switch(n=t[r++]){case\"children\":e=de(e)[t[r]];break;default:e=e[n][t[r]]}return e}:function(e,t){for(var n=0,r=t.length;n<r;n++)e=e[t[n++]][t[n]];return e},ge=/(<[a-z]+[a-z0-9:_-]*)((?:[^\\S]+[a-z0-9:_-]+(?:=(?:'.*?'|\".*?\"|<.+?>|\\S+))?)+)([^\\S]*\\/?>)/gi,me=new RegExp(\"([^\\\\S][a-z]+[a-z0-9:_-]*=)(['\\\"]?)\"+U+\"\\\\2\",\"gi\"),ye=function(e,t,n,r){return t+n.replace(me,be)+r},be=function(e,t,n){return t+(n||'\"')+Q+(n||'\"')},we=new ae,Ne=new ae,xe=new le,Se=!0,Ee=function(){return Y.appendChild(w(Y,\"g\")),Y.appendChild(w(Y,\"\")),1===Y.cloneNode(!0).childNodes.length?function(e){for(var t=e.cloneNode(),n=e.childNodes||[],r=0,i=n.length;r<i;r++)t.appendChild(Ee(n[r]));return t}:function(e){return e.cloneNode(!0)}}(),Ce=te?function(e){for(;e=e.nextSibling;)if(e.nodeType===R)return e}:function(e){return e.nextElementSibling},Te=te?function(e){for(;e=e.previousSibling;)if(e.nodeType===R)return e}:function(e){return e.previousElementSibling};return n.MAX_LIST_SIZE=1e3,n}(document,function(){\"use strict\";function e(e,n,o){var a=e.length,l=n.length,c=(o||1/0)<Math.sqrt(a*l);return a<1||c?void((l||c)&&e.splice.apply(e,[0,a].concat(n))):l<1?void e.splice(0):void i(e,r(e,n,t(e,n)))}function t(e,t){var n,r,i,o=e.length+1,a=t.length+1,l=o*a,u=0,s=0,f=0,h=0,p=0,d=0,v=new c(l);for(v[0]=0;++u<a;)v[u]=u;for(;++s<o;){for(f=u=0,p=s*a,d=h*a,v[p+u]=s;++u<a;)n=v[d+u]+1,r=v[p+f]+1,i=v[d+f]+(e[h]==t[f]?0:1),v[p+u]=n<r?n<i?n:i:r<i?r:i,++f;++h}return v}function n(e,t,n,r,i,o){e.unshift({type:t,x:n,y:r,count:i,items:o})}function r(e,t,r){for(var i,c,u,s,f,h,p=[],d=e.length+1,v=t.length+1,g=d-1,m=v-1;m&&g;)f=g*v,h=(g-1)*v,i=r[f+m],c=r[h+m],u=r[f+m-1],s=r[h+m-1],s<=u&&s<=c&&s<=i?(m--,g--,s<i&&n(p,l,m,g,1,[t[m]])):u<=c&&u<=i?(m--,n(p,a,m,g,0,[t[m]])):(g--,n(p,o,m,g,1,[]));for(;m--;)n(p,a,m,g,0,[t[m]]);for(;g--;)n(p,o,m,g,1,[]);return p}function i(e,t){var n,r,i,l=0,c=1,u=t.length;if(u){for(i=r=t[0];c<u;)n=t[c++],r.type===n.type&&n.x-r.x<=1&&n.y-r.y<=1?(i.count+=n.count,i.items=i.items.concat(n.items)):(e.splice.apply(e,[i.y+l,i.count].concat(i.items)),l+=i.type===a?i.items.length:i.type===o?-i.count:0,i=n),r=n;e.splice.apply(e,[i.y+l,i.count].concat(i.items))}}/*! Copyright (c) 2017, Andrea Giammarchi, @WebReflection */\nvar o=\"del\",a=\"ins\",l=\"sub\",c=/^u/.test(typeof Int32Array)?Array:Int32Array;return e.aura=function(e,t){var n=t.splice;return t.splice=function r(){t.splice=n;var i=e.splice.apply(e,arguments);return t.splice=r,i},t},e}());try{module.exports=hyperHTML}catch(e){}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/hyperhtml/min.js\n// module id = 3\n// module chunks = 0","import { Error } from '../data/error';\nimport {Comment, CommentError} from '../data/comment';\nimport {Env} from \"../data/env\";\n\nexport class Response {\n    readonly json: string;\n    readonly err: Error | null;\n\n    constructor(json: string, err: Error | null) {\n        this.json = json;\n        this.err = err;\n    }\n}\n\nexport interface Poster {\n\n    /**\n     * @example\n     *          const {json, err} = await client.post(json));\n     *          if (err) {\n     *              ...\n     *          } else {\n     *              ...\n     *          }\n     *\n     */\n    post(json: string): Promise<Response>;\n}\n\nexport class Client {\n    static make(env: Env): Poster {\n        if (!env.isProd()) {\n            return new MockClient();\n        }\n        return new Client();\n    }\n\n    async post(json: string): Promise<Response> {\n        return new Promise<Response>((resolve) => {\n                const resp = new Response(\"No implementation\" + json, null);\n                resolve(resp);\n        });\n    }\n}\n\ninterface WithBody {\n    body: string;\n}\n\nclass MockClient {\n    post(json: string): Promise<Response> {\n        return new Promise<Response>((resolve) => {\n            const data = JSON.parse(json) as WithBody;\n\n            switch(data.body) {\n                case \"400\": {\n                    const comment = new CommentError(\"400\", \"400 is a number an not a valid comment.\");\n                    const json = JSON.stringify(comment); // this is how it comes from the server.\n                    const err = new Error(400, \"Bad Request\", JSON.parse(json));\n                    const j =  JSON.stringify(err);\n                    const resp = new Response(j, err);\n                    resolve(resp);\n                    break;\n                }\n                default: {\n                    // when it works...\n                    const comment = new Comment(data.body);\n                    const resp = new Response(JSON.stringify(comment), null);\n                    setTimeout(resolve, 1000, resp);\n                    break;\n                }\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/client.ts","export class Error {\n    readonly code: number;\n    readonly status: string;\n    readonly message: string;\n    readonly value: object;\n\n    constructor(code: number, message: string, data: object) {\n        this.code = code;\n        this.status = Error.statusText(code);\n        this.message = message;\n        this.value = data;\n    }\n\n    static fromJSON(json: string): Error {\n        const body = JSON.parse(json) as JSONError;\n        return new Error(body.error.code, body.error.message, body.error.value);\n    }\n\n    static statusText(code: number): string {\n        switch(code) {\n            case 400: {\n                // if a form is invalid (form validation)\n                return \"Bad Request\";\n            }\n            case 401: {\n                // if the user must be logged in to perform the action\n                return \"Unauthorized\";\n            }\n            case 403: {\n                // if logged in user does not have access to the resource\n                return \"Forbidden\";\n            }\n            case 404: {\n                // if trying to edit a removed resource (edit of form)\n                return \"Not Found\";\n            }\n            case 409: {\n                // two users are editing the same resource\n                return \"Conflict\";\n            }\n            case 500: {\n                // the server crashed for unknown reason\n                return \"Internal Server Error\";\n            }\n            case 503: {\n                // the server is overloaded with request\n                return \"Service Unavailable\";\n            }\n            default: {\n                return \"Unknown error\";\n            }\n        }\n    }\n}\n\ninterface JSONError {\n    error: JSONErrorBody;\n}\n\ninterface JSONErrorBody {\n    code: number;\n    message: string;\n    status: string;\n    value: object;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/error.ts","export class Comment {\n   readonly body: string;\n\n    constructor(body: string) {\n       this.body = body;\n    }\n}\n\nexport class CommentError {\n    body: string;\n    err: string;\n\n    constructor(body: string, err: string) {\n        this.body = body;\n        this.err = err;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/comment.ts","export class Env {\n    readonly env: string = \"prod\";\n\n    constructor(env: string) {\n        switch(env) {\n            case \"dev\": {\n                this.env = \"dev\";\n                break;\n            }\n            case \"test\": {\n                this.env = \"test\";\n                break;\n            }\n            default: {\n                this.env = \"prod\";\n            }\n        }\n    }\n\n    isProd(): boolean {\n        return (this.env === \"prod\");\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/env.ts"],"sourceRoot":""}